## Create the database in docker
```
docker run --name rust-db -e POSTGRES_PASSWORD=rust_password -e POSTGRES_DB=rust_db -p 5432:5432 -v pgdata:/var/lib/postgresql/data -d postgres:16-alpine
```

## Test the project
Start the databse
```
docker start rust-db
docker ps
```

Run the app
```
cargo run
```

Test the app
```
curl -X GET http://localhost:3000/items
curl -X POST -H "Content-Type: application/json" -d '{"name": "My First Item"}' http://localhost:3000/items
curl -X POST -H "Content-Type: application/json" -d '{"name": "Another Item"}' http://localhost:3000/items
curl -X GET http://localhost:3000/items
```

## Building and Running App in Docker

```
docker build -t rust_api:latest .
docker run -p 3000:3000 -e DATABASE_URL="postgres://postgres:rust_password@host.docker.internal:5432/rust_db" rust_api:latest
```

Debugging
```
docker run -p 3000:3000 -e DATABASE_URL="postgres://postgres:rust_password@host.docker.internal:5432/rust_db" -e RUST_BACKTRACE=1 rust_api:latest
```

## Deployment Notes
Deployed on Render.com
- database will expire on July 1, 2025

## Migrations
To run migrations locally
```
DATABASE_URL="postgres://postgres:rust_password@localhost:5432/rust_db" sqlx migrate run
```